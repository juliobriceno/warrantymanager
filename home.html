<!DOCTYPE html>
<html lang="en">

  <head>

      <meta charset="UTF-8" />
      <title>Registro Garantía::..</title>
      <link rel="stylesheet" href="css/estilos.css" /> <!--enlace de hoja de estilos -->
      <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
      <!-- *****************************************Bootstrap.Estilos***************************************** -->
      <link rel="stylesheet" href="css/bootstrap.min.css" /><!--enlace bootstrap -->
      <!-- *****************************************Lists***************************************** -->
      <script src="js/Lists.js"></script>
      <!-- *****************************************JQuery***************************************** -->
      <script src="js/jquery.js"></script>
      <!-- *****************************************Bootstrap.Códigos***************************************** -->
      <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
      <link rel="stylesheet" type="text/css" href="css/font-awesome.min.css"> <!-- enlace con fuentes font-awosome-->
      <!-- *****************************************Angular Librerías***************************************** -->
      <script src="js/angular.js"></script>
      <script src="js/angular-animate.js"></script>
      <script src="js/angular-sanitize.js"></script>
      <!-- *****************************************Boostrap Angular Librerías***************************************** -->
      <script src="js/ui-bootstrap-tpls-2.5.0.js"></script>
      <!-- *****************************************Example Código***************************************** -->
      <script src="js/example.js"></script>
      <!-- *****************************************Código de Select Boostrap Angular***************************************** -->
      <script src="./select.js"></script>
      <link rel="stylesheet" href="./select.css">
      <script src="./demo.js"></script>
      <!-- *****************************************Librería de Select Boostrap Angular***************************************** -->
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/select2/3.4.5/select2.css">
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/selectize.js/0.8.5/css/selectize.default.css">
      <!-- *****************************************Librería de controlador principal***************************************** -->
      <script src="js/controller.js"></script>
      <!-- *****************************************Librería de angular loading***************************************** -->
      <script src="js/spin.min.js"></script>
      <script src="js/angular-loading.min.js"></script>
      <link rel="stylesheet" type="text/css" href="css/angular-loading.css" />
      <!-- *****************************************Librería de angular tags inputs***************************************** -->
      <link rel="stylesheet" href="css/ng-tags-input.min.css" />
      <script src="js/ng-tags-input.min.js"></script>
      <!-- *****************************************Librería de file upload***************************************** -->
      <script src="js/angular-file-upload.min.js"></script>

	</head>

	<body ng-controller="ctrlWarrantyHome" class="ng-cloak">
        <div dw-loading="myloading" dw-loading-options="{text: 'Working...'}">
            <div id="contenido">
                <!-- Navigation -->

                <nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
                    <div class="container-fluid">
                        <div class="navbar-header">
                            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#nav1">
                                <span class="sr-only">Toggle navigation</span>
                                <span class="icon-bar"></span>
                                <span class="icon-bar"></span>
                                <span class="icon-bar"></span>
                            </button>
                            <a class="navbar-brand" href="#"></a>
                        </div>

                        <div class="navbar-collapse collapse">
                            <ul class="nav navbar-nav navbar-right">
                                <li>
                                    <a href="#" data-placement="bottom" data-toggle="tooltip" href="#" data-original-title="alerts">
                                        <i class="glyphicon glyphicon-bell"></i>
                                    </a>
                                </li>
                                <li>
                                    <a href="#"><i class="glyphicon glyphicon-user icon-tamano"></i> {{user.strFirstName}}</a>
                                </li>
                            </ul>
                        </div>

                    </div> <!--FIN DE container fluid-->

                </nav> <!--FIN NAVBAR PASWORD DONDE-->


                <nav class="navbar navbar-static-top " role="navigation">
                    <div class="container-fluid">
                        <div class="navbar-header">
                            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#nav1">
                                <span class="sr-only">Toggle navigation</span>
                                <span class="icon-bar"></span>
                                <span class="icon-bar"></span>
                                <span class="icon-bar"></span>
                            </button>
                        </div>
                        <div class="collapse navbar-collapse" id="nav1">
                            <ul id="tabs" class="nav navbar-nav side-menu " data-tabs="tabs">
                                <li>
                                    <a ng-click="SetHomeDevices();" href="#home" data-toggle="tab"><i class="fa fa-home fa-lg" aria-hidden="true"></i> Home</a>
                                </li>
                                <li>
                                    <a href="#register-device" data-toggle="tab"><i class="glyphicon glyphicon-edit fa-lg"></i> Register Device</a>
                                </li>
                                <li>
                                    <a ng-click="SetListDevice();" href="#current-device" data-toggle="tab"><i class="fa fa-list-alt fa-lg"></i> My devices </a>
                                </li>
                                <li class="">
                                    <a href="#my-register" data-toggle="tab"><i class="fa fa-cog fa-lg"></i> My Account</a>
                                </li>
                                <li ng-click="Logout();">
                                    <a href="#log-out" data-toggle="tab"><i class="fa fa-sign-out fa-lg"></i> Log-Out</a>
                                </li>
                            </ul>
                        </div><!-- /.navbar-collapse -->
                    </div><!-- /.container-fluid -->
                </nav>

                <div>

                    <div id="my-tab-content" class="tab-content">
                        <div class="tab-pane active" id="home">
                            <div class="row  margen-col1">
                                <div class="col-md-12 ">
                                    <div ng-repeat="message in messages | orderBy:'-_id' | filter: {read: false } " ng-class="message.messagetype" role="alert">
                                        <button ng-click="UpdateMessages(message);" type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                                        <strong>{{message.message}}</strong> {{message.message2}}
                                    </div>
                                </div>
                            </div>

                            <div class="row container-widget">
                                <div class="col-md-3">
                                    <div class="widget">
                                        <div class="widget-body">
                                            <div class="widget-content">
                                                <div class="widget-icon green pull-left">
                                                    <i class="fa fa-shield"></i>
                                                </div>
                                                <div class="comment">Current Devices</div>
                                                <div class="title">{{devices.length}}</div>

                                            </div>
                                        </div>
                                    </div>
                                </div><!-- fin div1 col.md3-->
                                <div class="col-md-3">
                                    <div class="widget">
                                        <div class="widget-body">
                                            <div class="widget-content">
                                                <div class="widget-icon orange pull-left">
                                                    <i class="glyphicon glyphicon-ok"></i>
                                                </div>
                                                <div class="comment">Past Devices</div>
                                                <div class="title">0</div>

                                            </div>
                                        </div>
                                    </div>
                                </div><!-- fin div2 col.md3-->
                                <div class="col-md-3">
                                    <div class="widget">
                                        <div class="widget-body">
                                            <div class="widget-content">
                                                <div class="widget-icon red pull-left">
                                                    <i class="glyphicon glyphicon-lock"></i>
                                                </div>
                                                <div class="comment">Close Devices</div>
                                                <div class="title">0</div>

                                            </div>
                                        </div>
                                    </div>
                                </div><!-- fin div3 col.md3-->
                                <div class="col-md-3">
                                    <div class="widget">
                                        <div class="widget-body">
                                            <div class="widget-content">
                                                <div class="widget-icon blue pull-left">
                                                    <i class="fa fa-lightbulb-o"></i>
                                                </div>
                                                <div class="comment">Alert & Messages</div>
                                                <div class="title">{{messages.length}}</div>

                                            </div>
                                        </div>
                                    </div>
                                </div><!-- fin div4 col.md3-->

                            </div>
                            <div class="row  margen-col1">
                                <div class="col-md-6">
                                    <div class="widget">
                                        <div class="widget-header">
                                            <i class="fa fa-tasks"></i>
                                            Alerts & Messages
                                            <div class="pull-right"></div>
                                        </div>


                                        <div class="widget-body">
                                            <div class="widget-content">
                                                <div class="table-responsive">
                                                    <table class="table">
                                                        <tbody>
                                                            <tr ng-repeat="message in messages | orderBy:'-_id'"><td>{{message.message + ' ' + message.message2}}</td><td><span ng-class="message.messagetype2"><i ng-class="message.messagetype3"></i></span></td></tr>
                                                        </tbody>
                                                    </table>
                                                </div>
                                            </div>
                                        </div><!-- fin widget body-->
                                    </div><!-- fin widget tabla1-->
                                </div><!-- fin col-m6-->
                                <div class="col-md-6">

                                    <div class="widget">
                                        <div class="widget-header">
                                            <i class="fa fa-tasks"></i>
                                            List Devices
                                            <div class="pull-right">
                                                <input ng-model="strSearchDevice" ng-change="SearchDevices();" type="text" placeholder="Search" class="form-control input-sm" />
                                            </div>
                                        </div> <!-- fin widget header-->


                                        <div class="widget-body">
                                            <div class="widget-content">
                                                <div class="table-responsive">
                                                    <table class="table">
                                                        <thead>
                                                            <tr><th>File</th><th>Category</th><th>Make</th><th>Model</tr>
                                                        </thead>
                                                        <tbody>
                                                            <tr ng-repeat="device in devicesfiltered | orderBy:'-_id'"><td><a ng-show="device.FileName != '' " target="_blank" ng-href='/uploads/{{device.FileName}}' class="fa fa-file"></a> </td><td>{{device.category.name}}</td><td>{{device.make.name}}</td><td>{{device.model.name}}</td></tr>
                                                        </tbody>
                                                    </table>
                                                </div>
                                            </div><!--fin widget body content-->
                                        </div><!--fin widget body-->

                                    </div><!-- fin widget tabla1-->


                                </div> <!--fin col-md6-->
                            </div><!-- fin tab home-->
                            <br><br>


                        </div>
                        <div class="tab-pane" id="my-register">
                            <div class="container-fluid">
                                <div class="row margen-col1">
                                    <div>
                                        <legend><i class="fa fa-cog"></i> My Account</legend>

                                        <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6 form-line">
                                            <div ng-class="strFirstNameClass">
                                                <label for="email">First name:</label>
                                                <input ng-model="user.strFirstName" class="form-control" placeholder="">
                                            </div>
                                            <div ng-class="strLastNameClass">
                                                <label for="password">Last name:</label>
                                                <input ng-model="user.strLastName" class="form-control" placeholder=" ">
                                            </div>
                                            <div ng-class="strEmailClass">
                                                <label for="password">Email Address:</label>
                                                <input ng-model="user.strEmail" class="form-control" placeholder=" ">
                                            </div>
                                            <div ng-class="strPasswordClass">
                                                <label for="password">Password:</label>
                                                <input ng-model="user.strPassword" type="password" class="form-control" placeholder=" ">
                                            </div>
                                            <div ng-class="strPasswordClass">
                                                <label for="password">Confirm Password:</label>
                                                <input ng-model="user.strConfirmPassword" type="password" class="form-control" placeholder=" ">
                                            </div>
                                            <div ng-class="strPhoneNumberClass">
                                                <label for="password">Phone Number:</label>
                                                <input ng-model="user.strPhoneNumber" class="form-control" placeholder=" ">
                                            </div>
                                            <div ng-class="strCountryClass">
                                                <label for="sel1">Country: </label>
                                                <ui-select ng-model="user.country" theme="bootstrap" title="choose a country">
                                                    <ui-select-match placeholder="choose or find a country...">{{$select.selected.name}}</ui-select-match>
                                                    <ui-select-choices repeat="country in countries | filter: { name: $select.search } ">
                                                        <span ng-bind-html="country.name | highlight: $select.search"></span>
                                                    </ui-select-choices>
                                                </ui-select>
                                            </div>
                                            <hr>
                                            <button ng-click="UpdateUser();" type="button" class="btn btn-primary submit pull-right"><i class="fa fa-paper-plane" aria-hidden="true"></i> Save</button>
                                        </div><!-- fin form-->

                                        <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">

                                            <div class="text-center margen-col2">
                                                <span class="glyphicon glyphicon-pencil" style="font-size: 5em;"></span>
                                                <h4>Update your account</h4>
                                                <p class="text-center">Set new values and press save.</p>
                                                <p class="text-center"></p>
                                            </div>

                                        </div>
                                    </div>
                                </div> <!--fin rom my register-->

                            </div>

                        </div>

                        </br>

                        <div class="tab-pane" id="register-device">
                            <div class="container-fluid">
                                <div class="row margen-col1">
                                    <legend><i class="fa fa-cog"></i> Register Device</legend>
                                    <div class="row">
                                        <div>
                                            <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6 form-line">
                                                <div ng-class="strSerialClass">
                                                    <label for="serial">Serial:</label>
                                                    <input ng-model="device.strSerial" type="text" class="form-control" id="serial" placeholder=" Enter Serial">
                                                </div>

                                                <div class="form-group">
                                                    <label for="sel1">Category: </label>
                                                    <ui-select ng-change="FillSubCategories();" ng-model="device.category" theme="bootstrap" title="choose a country">
                                                        <ui-select-match placeholder="choose or find a country...">{{$select.selected.name}}</ui-select-match>
                                                        <ui-select-choices repeat="category in categories | filter: { name: $select.search } ">
                                                            <span ng-bind-html="category.name | highlight: $select.search"></span>
                                                        </ui-select-choices>
                                                    </ui-select>
                                                </div>
                                                <div ng-class="subcategoryClass">
                                                    <label for="sel1">SubCategory: </label>
                                                    <ui-select ng-model="device.subcategory" theme="bootstrap" title="choose a country">
                                                        <ui-select-match placeholder="choose or find a country...">{{$select.selected.name}}</ui-select-match>
                                                        <ui-select-choices repeat="subcategory in subcategories | filter: { name: $select.search } | filter: { categoryid: device.category.id } ">
                                                            <span ng-bind-html="subcategory.name | highlight: $select.search"></span>
                                                        </ui-select-choices>
                                                    </ui-select>
                                                </div>
                                                <div class="form-group">
                                                    <label for="sel1">Make: </label>
                                                    <ui-select ng-change="FillModels();" ng-model="device.make" theme="bootstrap" title="choose a country">
                                                        <ui-select-match placeholder="choose or find a model...">{{$select.selected.name}}</ui-select-match>
                                                        <ui-select-choices repeat="make in makes | filter: { name: $select.search } ">
                                                            <span ng-bind-html="make.name | highlight: $select.search"></span>
                                                        </ui-select-choices>
                                                    </ui-select>
                                                </div>
                                                <div ng-class="modelClass">
                                                    <label for="sel1">Model: </label>
                                                    <ui-select ng-model="device.model" theme="bootstrap" title="choose a country">
                                                        <ui-select-match placeholder="choose or find a model...">{{$select.selected.name}}</ui-select-match>
                                                        <ui-select-choices repeat="model in models | filter: { name: $select.search } | filter: { makeid: device.make.id } ">
                                                            <span ng-bind-html="model.name | highlight: $select.search"></span>
                                                        </ui-select-choices>
                                                    </ui-select>
                                                </div>
                                                <div ng-class="warantyClass">
                                                    <label for="sel1">Warranty time: </label>
                                                    <ui-select ng-model="device.warrantytime" theme="bootstrap" title="choose a warranty time">
                                                        <ui-select-match placeholder="choose or find a warranty time...">{{$select.selected.name}}</ui-select-match>
                                                        <ui-select-choices repeat="warratytime in WarratyTimes | filter: { name: $select.search } ">
                                                            <span ng-bind-html="warratytime.name | highlight: $select.search"></span>
                                                        </ui-select-choices>
                                                    </ui-select>
                                                </div>
                                                <div class="form-group">
                                                    <label for="date">Date Of Purchase:</label>
                                                    <p class="input-group">
                                                        <input ng-model="device.datDatePurchase" type="text" class="form-control" uib-datepicker-popup="{{format}}" ng-model="dt" is-open="popup1.opened" datepicker-options="dateOptions" ng-required="true" close-text="Close" alt-input-formats="altInputFormats" />
                                                        <span class="input-group-btn">
                                                            <button type="button" class="btn btn-default" ng-click="open1()"><i class="glyphicon glyphicon-calendar"></i></button>
                                                        </span>
                                                    </p>
                                                </div>
                                                <div ng-class="strVendorClass">
                                                    <label for="vendedor">Vendor:</label>
                                                    <input ng-model="device.strVendor" type="tel" class="form-control" id="vendedor" placeholder="Enter Vendor">
                                                </div>
                                                <hr>
                                                <button ng-click="NewDeviceRegister();" type="button" class="btn btn-primary submit pull-right"><i class="fa fa-paper-plane" aria-hidden="true"></i> Save</button>
                                                </br>
                                                </br>
                                            </div><!-- fin form-->

                                        </div>
                                        <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
                                            <div class="row margen-colup">
                                                <div class="col-md-12 file-input">
                                                    <p>Fill product data, upload files (picture, pdf files, etc) and press save</p>
                                                    <!--<a href="#" class="btn btn-default btn-sm "><i class="fa fa-cloud-upload fa-3x"></i> Upload File</a>-->
                                                    <span class="btn-file btn btn-default btn-sm"><i class="fa fa-cloud-upload fa-3x"></i> Upload File
                                                        <input type="file" nv-file-select uploader="uploader" multiple hidden>
                                                    </span>
                                                </div>
                                                <div class="col-md-12">
                                                    <br>
                                                    <table ng-show="uploader.queue.length > 0" class="table table-striped table-responsive">
                                                        <thead>
                                                            <tr>
                                                                <th>Name</th>
                                                                <th>Size</th>
                                                                <th>Actions</th>
                                                            </tr>
                                                        </thead>
                                                        <tr ng-repeat="item in uploader.queue">
                                                            <td>{{ item.file.name }}</td>
                                                            <td>{{ item.file.size/1024/1024|number:2 }} MB</td>
                                                            <td class="text-center"><a ng-click="item.remove()" href="#" class="btn btn-danger btn-xs"><span class="glyphicon glyphicon-remove"></span> Delete</a></td>
                                                        </tr>
                                                    </table>
                                                </div>
                                            </div>
                                        </div><!--fin col 2-->
                                    </div>

                                </div>
                            </div>
                        </div>

                        <div class="tab-pane" id="current-device">
                            <div class="container-fluid">
                                <div class="row margen-col1">
                                    <legend><i class="fa fa-cog"></i> Current Devices</legend>
                                    <input class="form-control" ng-model="strSearchDeviceList" ng-change="SearchDevicesList();" type="text"><br>
                                    <input type="checkbox" name="your-group" value="unit-in-group" />Current Devices
                                    <input type="checkbox" name="your-group" value="unit-in-group" />Past Devices
                                    <input type="checkbox" name="your-group" value="unit-in-group" />Close Devices
                                    <div class="panel panel-default">
                                        <div class="panel-body">
                                            <div class="table-responsive">
                                                <table class="table table-striped" style="border:none;">
                                                    <tr ng-repeat="device in deviceslistfiltered | orderBy:'-_id'">
                                                        <td class="col-md-5">
                                                            <div class="media">
                                                                <div class="media-body ">
                                                                    <h4><a href="#">{{device.category.name + ' - ' + device.make.name + ' - ' + device.model.name }}</a></h4>
                                                                    <div class="pull-left">
                                                                        <h6><span class="fa fa-barcode"></span><b> Serial:</b> {{device.strSerial}}</h6>
                                                                        <h6><span class="fa fa-calendar-check-o"></span><b> Date of Purchase:</b> {{device.datDatePurchase | date:'MM/dd/yyyy'}} </h6>
                                                                        <h6><span class="fa fa-handshake-o"></span><b> Vendor </b> {{device.strVendor}}</h6>
                                                                        <button class="btn btn-primary" ng-click="CallConfirmDeactivate(device);" type="button">Deactivate</button>
                                                                        <input type="text" ng-model="device.strEmailTransfer" uib-typeahead="transferuser.email for transferuser in transferusers | filter:$viewValue | limitTo:8" class="form-control">
                                                                        <button class="btn btn-primary" ng-click="CallConfirmTransfer(device);" type="button">Transfer</button>
                                                                    </div>
                                                                </div> <!--fin media body-->
                                                            </div><!--fin media-->
                                                        </td> <!--fin td col-md5-->
                                                        <td class="col-md-3 text-center"></td>
                                                        <td class="col-sm-3 col-md-4">
                                                            <h4><a href="#">Files</a></h4>
                                                            <div class="list-file">
                                                                <span ng-repeat="file in device.Files" class="fa fa-file list-item-file"><a target="_blank" href="{{file.FilewebViewLink}}"> {{file.FileName}}</a> <a target="_blank" href="{{file.FilewebViewLink}}"><span class="btn  btn-sm fa fa-arrow-circle-o-down pull-right"></span></span></a>
                                                            </div><!--fin list file-->
                                                        </td><!--fin td-->
                                                    </tr><!--fin tr-->
                                                </table><!--fin table-->
                                            </div><!--fin table-->
                                        </div><!--finpanel body-->
                                    </div><!--fin panel default-->
                                </div><!--fin row-->
                            </div><!--fin container current devices-->
                        </div> <!--fin de tabs fichas de dispositivos Current  -->

                        <div class="tab-pane" id="past-devices">
                            <div class="container well">
                                <h1>TAB4</h1>
                            </div>
                        </div>
                        <div class="tab-pane" id="close-devices">
                            <div class="container well">
                                <h1>TAB5</h1>
                            </div>
                        </div>
                        <div></div>
                    </div>

                </div><!--FIN TAB CONTENT-->

            </div>  <!-- Fin de contenido -->

            <footer></footer>
    </div>
</body>

</html>